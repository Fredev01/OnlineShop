{% extends "base.html" %}

{% block body %}
<div class="container">
    <form id="auth-form" action="{{ url_for('AuthApi.api_login') }}" method="post">
        <input type="text" name="username" placeholder="Username" autocomplete="off">
        <input type="password" name="password" placeholder="Password" autocomplete="off">
        <input type="submit" value="Login" class="login-btn" onclick="setFormAction('login')">
        <input type="button" value="Register" class="register-btn" onclick="setFormAction('register')">
        <input type="button" class="btn login-google" value="Login with Google" onclick="login_google()">
    </form>
</div>

<script>
    function setFormAction(action) {
        var form = document.getElementById('auth-form');
        if (action === 'login') {
            form.action = "{{ url_for('AuthApi.api_login') }}";
            form.method = "post";
            form.submit();
        } else if (action === 'register') {
            form.action = "{{ url_for('AuthApi.api_register') }}";
            form.method = "post";
            form.submit();
        }
    }
    function login_google() {
        window.location.href = "{{ url_for('login_google') }}";
    }
</script>
{% endblock %}